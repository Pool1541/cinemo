"use strict";(self.webpackChunkmovies_app=self.webpackChunkmovies_app||[]).push([[756],{4088:function(e,t,n){n.d(t,{t:function(){return a}});n(2791);var r=n(1087),s=n(3209),i=n(184),a=function(){var e=(new Date).getFullYear();return(0,i.jsx)("div",{className:s.Z.aboutContainer,children:(0,i.jsxs)("p",{className:s.Z.aboutText,children:["Copyright \xa9 ",e," Movie App - All Rights Reserved.",(0,i.jsx)(r.rU,{to:"movies-app/about",children:(0,i.jsx)("span",{className:s.Z.aboutLink,children:"About page"})})]})})}},3126:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(4165),s=n(5861),i=n(7820),a=n(2791),o=n(7606),c=n(184);function u(e){var t=e.children,n=e.onUserLoggedIn,u=e.onUserNotLoggedIn;return(0,a.useEffect)((function(){(0,i.Aj)(o.I8,function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var s,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,(0,o.is)(t.uid);case 3:(s=e.sent)?n(s):(i={name:t.displayName,creationTime:Date.now(),lastName:"",email:t.email,uid:t.uid,photoURL:"https://upload.wikimedia.org/wikipedia/commons/2/2c/Default_pfp.svg"},(0,o.r4)(i),n(i)),e.next=8;break;case 7:u();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n,u]),(0,c.jsx)("div",{children:t})}},4350:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(9439),s=n(2791),i={container:"userProfile_container__PDt-1",profileBtn:"userProfile_profileBtn__uuIei"},a={options:"profileOptions_options__zQpTR",show:"profileOptions_show__xRKUl",displayName:"profileOptions_displayName__iv0hP",optionsList:"profileOptions_optionsList__y5EMi",optionItem:"profileOptions_optionItem__50ZPi"},o=n(5880),c=n(9126),u=n(7606),l=n(7689),p=n(1087),f=n(184);function d(e){var t=e.username,n=(0,l.s0)(),r=(0,l.TH)();return(0,f.jsxs)("div",{className:a.options,children:[(0,f.jsxs)("p",{className:a.displayName,children:["Bienvenido ",t]}),(0,f.jsxs)("ul",{className:a.optionsList,children:[(0,f.jsx)("li",{children:(0,f.jsxs)(p.rU,{className:a.optionItem,children:[(0,f.jsx)(o.Mdg,{}),"Profile"]})}),(0,f.jsx)("li",{children:(0,f.jsxs)(p.rU,{className:a.optionItem,to:"/movies-app/settings",children:[(0,f.jsx)(c.FBj,{}),"Settings"]})}),(0,f.jsx)("li",{children:(0,f.jsxs)(p.rU,{className:a.optionItem,onClick:function(){(0,u.kS)().then((function(){"/"===r.pathname?location.reload():n("/movies-app/")})).catch((function(e){return console.error(e)}))},children:[(0,f.jsx)(o.OPR,{}),"Logout"]})})]})]})}function m(e){var t=e.user,n=(0,s.useState)(!1),a=(0,r.Z)(n,2),o=a[0],c=a[1];return(0,f.jsxs)("div",{className:i.container,children:[(0,f.jsx)("button",{type:"button",className:i.profileBtn,onClick:function(){c(!o)},children:(0,f.jsx)("img",{src:t.photoURL,alt:"imagen de perfil"})}),o?(0,f.jsx)(d,{username:t.name}):null]})}},1221:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(184);function s(e){var t=e.children;return(0,r.jsx)("footer",{children:t})}},4491:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(184);function s(e){var t=e.children;return(0,r.jsx)("header",{children:t})}},7408:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(184);function s(e){var t=e.children;return(0,r.jsx)("main",{children:t})}},1731:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(9439),s=n(4088),i=n(3126),a=n(4165),o=n(5861),c=n(2791),u=n(7606),l={container:"settings_container__xt6XN",settingsSection:"settings_settingsSection__xWSBi",title:"settings_title__Oou5E",settings:"settings_settings__jhaUY",form:"settings_form__bkGa8",formSection:"settings_formSection__8xlzE",disable:"settings_disable__2x-UR",profilePhoto:"settings_profilePhoto__bgWMv",fileInput:"settings_fileInput__e+tIm",button:"settings_button__I+Kfd"};function p(e){return new Promise((function(t,n){var r=document.createElement("canvas"),s=new Image;s.onload=function(){r.width=100,r.height=110,r.getContext("2d").drawImage(s,0,0,r.width,r.height),r.toBlob((function(e){if(null===e)return n(e);t(e)}),"image/jpeg",1)},s.src=URL.createObjectURL(e)}))}var f={successMessage:"messageBox_successMessage__1eSQe",getIn:"messageBox_getIn__Bs9JM",btnContainer:"messageBox_btnContainer__-1zVY",closeButton:"messageBox_closeButton__dfHL2"},d=n(184);function m(e){var t=e.onClose;return(0,d.jsxs)("div",{className:f.successMessage,children:[(0,d.jsx)("div",{children:(0,d.jsx)("p",{children:"Se actualiz\xf3 la informaci\xf3n correctamente"})}),(0,d.jsx)("div",{className:f.btnContainer,children:(0,d.jsx)("button",{className:f.closeButton,onClick:t,title:"Cerrar mensaje",children:"x"})})]})}function h(e){var t=e.user,n=(0,c.useState)(t.photoURL),s=(0,r.Z)(n,2),i=s[0],f=s[1],h=(0,c.useState)(!1),x=(0,r.Z)(h,2),v=x[0],_=x[1],g=(0,c.useRef)(null),j=(0,c.useRef)(),b=(0,c.useRef)();function y(){return(y=(0,o.Z)((0,a.Z)().mark((function e(n){var r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=j.current.value,s=b.current.value,e.next=5,(0,u.Al)(t.uid,{name:r,lastName:s});case 5:_(!0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=(0,o.Z)((0,a.Z)().mark((function e(n){var r,s,i,o,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=n.target.files)&&r.length>0)){e.next=18;break}return s=r[0],e.next=5,p(s);case 5:return i=e.sent,e.next=8,(0,u.jY)(t.uid,i);case 8:if(o=e.sent,console.log(i),!o){e.next=18;break}return e.next=13,(0,u.Qc)(o);case 13:return c=e.sent,e.next=16,(0,u.Al)(t.uid,{photoURL:c});case 16:f(c),_(!0);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,c.useEffect)((function(){j.current.value=t.name,b.current.value=t.lastName}),[]),(0,d.jsxs)("div",{className:l.container,children:[(0,d.jsxs)("div",{className:l.settingsSection,children:[(0,d.jsx)("div",{className:l.title,children:(0,d.jsx)("h2",{children:"Foto de perfil"})}),(0,d.jsxs)("div",{className:l.settings,children:[(0,d.jsx)("div",{className:l.profilePhoto,children:(0,d.jsx)("img",{src:i,alt:"foto de perfil"})}),(0,d.jsx)("input",{type:"file",className:l.fileInput,ref:g,onChange:function(e){return N.apply(this,arguments)}}),(0,d.jsx)("button",{type:"button",className:l.button,onClick:function(){g.current.click()},title:"Elegir una foto de perfil",children:"Elige una foto de perfil"})]})]}),(0,d.jsxs)("form",{className:l.form,onSubmit:function(e){return y.apply(this,arguments)},children:[(0,d.jsxs)("div",{className:l.formSection,children:[(0,d.jsx)("div",{className:l.title,children:(0,d.jsx)("label",{htmlFor:"name",children:"Nombre"})}),(0,d.jsx)("div",{className:l.settings,children:(0,d.jsx)("input",{type:"text",name:"name",id:"name",ref:j})})]}),(0,d.jsxs)("div",{className:l.formSection,children:[(0,d.jsx)("div",{className:l.title,children:(0,d.jsx)("label",{htmlFor:"lastName",children:"Apellido"})}),(0,d.jsx)("div",{className:l.settings,children:(0,d.jsx)("input",{type:"text",name:"lastName",id:"lastName",ref:b})})]}),(0,d.jsxs)("div",{className:l.formSection,children:[(0,d.jsx)("div",{className:l.title,children:(0,d.jsx)("label",{htmlFor:"email",children:"Correo"})}),(0,d.jsx)("div",{className:l.settings,children:(0,d.jsx)("input",{type:"text",name:"email",id:"email",disabled:!0,value:t.email,className:l.disable})})]}),(0,d.jsx)("div",{className:l.formSection,children:(0,d.jsx)("button",{type:"submit",className:l.button,title:"Guardar cambios",children:"Guardar cambios"})})]}),v&&(0,d.jsx)(m,{onClose:function(){_(!1)}})]})}var x={container:"settingsContainer_container__yOj1X"};function v(e){var t=e.children;return(0,d.jsx)("section",{className:x.container,children:t})}var _=n(4350),g=n(1221),j=n(4491),b=n(7408),y=n(7689);function N(){var e=(0,c.useState)(null),t=(0,r.Z)(e,2),n=t[0],a=t[1],o=(0,c.useState)(0),u=(0,r.Z)(o,2),l=u[0],p=u[1],f=(0,y.s0)();return 0===l?(0,d.jsx)(i.Z,{onUserLoggedIn:function(e){a(e),p(2)},onUserNotLoggedIn:function(){f("/movies-app/")}}):(0,d.jsxs)("div",{children:[(0,d.jsx)(j.Z,{children:(0,d.jsx)("nav",{children:(0,d.jsx)(_.Z,{user:n})})}),(0,d.jsx)(b.Z,{children:(0,d.jsx)(v,{children:(0,d.jsx)(h,{user:n})})}),(0,d.jsx)(g.Z,{children:(0,d.jsx)(s.t,{})})]})}},7606:function(e,t,n){n.d(t,{Al:function(){return N},I8:function(){return l},Qc:function(){return I},a$:function(){return d},is:function(){return b},jY:function(){return w},kS:function(){return v},pH:function(){return h},r4:function(){return g}});var r=n(4165),s=n(5861),i=n(4702),a=n(7820),o=n(7799),c=n(276),u=(0,i.ZF)({apiKey:"AIzaSyAr-Jcx4B4JY1Lt2e9H4ecQbo4-i6plyog",authDomain:"movies-app-973c5.firebaseapp.com",projectId:"movies-app-973c5",storageBucket:"movies-app-973c5.appspot.com",messagingSenderId:"779018595072",appId:"1:779018595072:web:e97dab726a40711adba1e5"}),l=(0,a.v0)(u),p=(0,o.ad)(u),f=(0,c.cF)(u);function d(e){return m.apply(this,arguments)}function m(){return(m=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,s=t.password,e.next=3,(0,a.Xb)(l,n,s);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return x.apply(this,arguments)}function x(){return(x=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,s=t.password,e.next=3,(0,a.e5)(l,n,s);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return _.apply(this,arguments)}function _(){return(_=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.signOut();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return j.apply(this,arguments)}function j(){return(j=(0,s.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,o.JU)(p,"users",t.uid),e.next=3,(0,o.pl)(n,t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return y.apply(this,arguments)}function y(){return(y=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,o.JU)(p,"users",t),e.next=3,(0,o.QT)(n);case 3:return s=e.sent,e.abrupt("return",s.data());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return Z.apply(this,arguments)}function Z(){return(Z=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,o.JU)(p,"users",t),e.next=3,(0,o.r7)(s,n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return k.apply(this,arguments)}function k(){return(k=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,c.iH)(f,"images/".concat(t)),e.next=3,(0,c.KV)(s,n);case 3:return i=e.sent,e.abrupt("return",i.metadata.fullPath);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return S.apply(this,arguments)}function S(){return(S=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,c.iH)(f,t),e.next=3,(0,c.Jt)(n);case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},9983:function(e,t,n){n.d(t,{w_:function(){return u}});var r=n(2791),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=r.createContext&&r.createContext(s),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},a.apply(this,arguments)},o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};function c(e){return e&&e.map((function(e,t){return r.createElement(e.tag,a({key:t},e.attr),c(e.child))}))}function u(e){return function(t){return r.createElement(l,a({attr:a({},e.attr)},t),c(e.child))}}function l(e){var t=function(t){var n,s=e.attr,i=e.size,c=e.title,u=o(e,["attr","size","title"]),l=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,u,{className:n,style:a(a({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),c&&r.createElement("title",null,c),e.children)};return void 0!==i?r.createElement(i.Consumer,null,(function(e){return t(e)})):t(s)}},3209:function(e,t){t.Z={container:"aboutPage_container__Y0zDr",appTitle:"aboutPage_appTitle__h0wAD",link:"aboutPage_link__5ReuG",aboutContainer:"aboutPage_aboutContainer__ye7E7",aboutLink:"aboutPage_aboutLink__yUnSv",aboutText:"aboutPage_aboutText__AhD1h",icon:"aboutPage_icon__2pmWa",btn:"aboutPage_btn__N3RFw"}}}]);
//# sourceMappingURL=756.ae47cd78.chunk.js.map