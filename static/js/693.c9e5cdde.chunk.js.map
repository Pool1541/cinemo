{"version":3,"file":"static/js/693.c9e5cdde.chunk.js","mappings":"4LACA,GAAgB,UAAY,iCAAiC,KAAO,4BAA4B,SAAW,gCAAgC,MAAQ,8B,uCCIpI,SAASA,EAAc,GAAe,IAAbC,EAAI,EAAJA,KAAMC,EAAE,EAAFA,GACtCC,GAAeC,EAAAA,EAAAA,UACrB,SAASC,IACPJ,EAAKK,UACLC,SAASC,eAAeN,GAAIO,QAC9B,CAE2B,aAyB1B,OAzB0B,0BAA3B,WAA4BC,GAAC,gFAI2C,GAHtEA,EAAEC,iBACIC,EAAW,IAAIC,SAASH,EAAEI,QAC1BC,EAAOC,OAAOC,YAAYL,IACfI,OAAOE,QAAQH,GAAMI,OAAM,SAAAC,GAAK,MAAiB,KAAbA,EAAM,EAAS,IAEvD,CAAD,0CAEqBC,EAAAA,EAAAA,IAAa,CACxCC,MAAOP,EAAKO,MACZC,SAAUR,EAAKQ,WACd,KAAD,EACmB,OAJfC,EAAc,cAIbT,EAAKQ,SAAS,WACfE,EAAAA,EAAAA,KAAW,kBACZV,GAAI,IACPW,aAAcC,KAAKC,MACnBC,SACE,sEACFC,IAAKN,EAAeO,KAAKD,OACxB,KAAD,GACFzB,IAAc,kDAEdF,EAAa6B,QAAQC,UAAY,KAAMC,KAAKC,MAAM,KAAK,GAAG,gCAEzDhC,EAAa6B,QAAQC,UAAY,4BAA4B,2DACnE,sBAED,OACE,gBAAKG,UAAWC,EAAAA,UAAiB,UAC/B,kBAAMD,UAAWC,EAAAA,KAAaC,SA/BjC,SAE2B,GAAD,gCA6B8B,WACnD,wBAAI,gBACJ,kBAAOC,QAAQ,OAAM,SAAC,YACtB,kBAAOC,KAAK,OAAOtC,GAAG,OAAOuC,KAAK,UAClC,kBAAOF,QAAQ,WAAU,SAAC,cAC1B,kBAAOC,KAAK,OAAOtC,GAAG,WAAWuC,KAAK,cACtC,kBAAOF,QAAQ,gBAAe,SAAC,2BAC/B,kBAAOC,KAAK,QAAQtC,GAAG,gBAAgBuC,KAAK,WAC5C,kBAAOF,QAAQ,mBAAkB,SAAC,mBAClC,kBAAOC,KAAK,WAAWtC,GAAG,mBAAmBuC,KAAK,cAClD,gBAAKL,UAAWC,EAAAA,MAAcK,IAAKvC,KACnC,mBAAQqC,KAAK,SAAQ,SAAC,iBACtB,mBAAQA,KAAK,SAASJ,UAAWC,EAAAA,SAAiBM,QAAStC,EAAY,UACrE,SAAC,MAAS,UAKpB,C","sources":["webpack://movies-app/./src/styles/components/registerModal.module.css?3769","components/RegisterModal.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"registerModal_container__uawMk\",\"form\":\"registerModal_form__n9+8I\",\"closeBtn\":\"registerModal_closeBtn__d0j6O\",\"error\":\"registerModal_error__nkU2R\"};","import styles from 'styles/components/registerModal.module.css';\r\nimport { IoMdClose } from 'react-icons/io';\r\nimport { createUser, registerUser } from 'services/firebase';\r\nimport { useRef } from 'react';\r\n\r\nexport default function RegisterModal({ root, id }) {\r\n  const errorMessage = useRef();\r\n  function handleClose() {\r\n    root.unmount();\r\n    document.getElementById(id).remove();\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);\r\n    const data = Object.fromEntries(formData);\r\n    const complete = Object.entries(data).every(value => value[1] !== '');\r\n\r\n    if (complete)\r\n      try {\r\n        const userCredential = await registerUser({\r\n          email: data.email,\r\n          password: data.password,\r\n        });\r\n        delete data.password;\r\n        await createUser({\r\n          ...data,\r\n          creationTime: Date.now(),\r\n          photoURL:\r\n            'https://upload.wikimedia.org/wikipedia/commons/2/2c/Default_pfp.svg',\r\n          uid: userCredential.user.uid,\r\n        });\r\n        handleClose();\r\n      } catch (error) {\r\n        errorMessage.current.innerText = error.code.split('/')[1];\r\n      }\r\n    else errorMessage.current.innerText = 'Completa todos los campos';\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <form className={styles.form} onSubmit={handleSubmit}>\r\n        <h2>Registrate</h2>\r\n        <label htmlFor='name'>Nombre</label>\r\n        <input type='text' id='name' name='name' />\r\n        <label htmlFor='lastName'>Apellido</label>\r\n        <input type='text' id='lastName' name='lastName' />\r\n        <label htmlFor='registerEmail'>Correo electrónico</label>\r\n        <input type='email' id='registerEmail' name='email' />\r\n        <label htmlFor='registerPassword'>Contraseña</label>\r\n        <input type='password' id='registerPassword' name='password' />\r\n        <div className={styles.error} ref={errorMessage} />\r\n        <button type='submit'>Registrarme</button>\r\n        <button type='button' className={styles.closeBtn} onClick={handleClose}>\r\n          <IoMdClose />\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["RegisterModal","root","id","errorMessage","useRef","handleClose","unmount","document","getElementById","remove","e","preventDefault","formData","FormData","target","data","Object","fromEntries","entries","every","value","registerUser","email","password","userCredential","createUser","creationTime","Date","now","photoURL","uid","user","current","innerText","code","split","className","styles","onSubmit","htmlFor","type","name","ref","onClick"],"sourceRoot":""}