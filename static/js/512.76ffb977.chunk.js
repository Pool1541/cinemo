"use strict";(self.webpackChunkcinemo=self.webpackChunkcinemo||[]).push([[512],{8266:function(e,i,s){s.d(i,{Z:function(){return r}});var n={container:"rating_container__CS7GM"},t=s(184);function a(e){var i={"--fill":"50%"},s={"--fill":"100%"},n=new Array(5).fill(null),a=e/2;return n.map((function(e,n){return n<a?n+1>a?(0,t.jsx)("div",{style:i},n):(0,t.jsx)("div",{style:s},n):(0,t.jsx)("div",{},n)}))}function r(e){var i=e.votes;return(0,t.jsx)("div",{className:n.container,children:a(i)})}},4512:function(e,i,s){s.r(i),s.d(i,{default:function(){return J}});var n=s(1933),t=s(7689),a=s(5567);function r(){var e=(0,t.UO)().movieId,i=(0,n.useQuery)({queryKey:["movie",e],queryFn:function(){return(0,a.XT)(e)}});return{movieData:i.data,isError:i.isError,error:i.error,isLoading:i.isLoading,isSuccess:i.isSuccess}}var o="movieinfo_container__tsTJ3",c="movieinfo_infoContainer__kopl0",l="movieinfo_info__QVrDj",d="movieinfo_absoluteInfo__is19i",m="movieinfo_title__WblJZ",u="movieinfo_meta__3ruEs",v="movieinfo_overview__va1tj",h="movieinfo_backgroundImage__8HEzf",x="movieinfo_storylineCotnainer__bMmbH",_="movieinfo_poster__9Vka3",j="movieinfo_sinopsis__KeW5m",p="movieinfo_storylineInfo__ZXFk+",f="movieinfo_storylineList__-NzmY",N="movieinfo_storylineTitle__gCY7v",b="movieinfo_storylineItem__+9Q6B",g="movieinfo_genres__UFnFG",w=s(9439),L=s(7425),y=s(8820),k={actionsContainer:"actions_actionsContainer__uyMu3",actionsItem:"actions_actionsItem__g1fOC"},I=s(887),C=s(7834),D=s(5854),Z=s(2791),F=s(5386),S=s(4373),M={background:"addMovieToList_background__pNhdq",container:"addMovieToList_container__3-Z5J",top:"addMovieToList_top__KTM8V",form:"addMovieToList_form__ufJuR",addList:"addMovieToList_addList__YjCDP"},T=s(4165),O=s(5861),P={formOption:"addMovieOption_formOption__7GcKt",checkbox:"addMovieOption_checkbox__joxaH",label:"addMovieOption_label__v+Via"},E=s(184);function R(e){var i=e.list,s=e.allLists,n=(0,C.Z)().auth,a=(0,t.UO)().movieId,r=(0,Z.useRef)();function o(){return(o=(0,O.Z)((0,T.Z)().mark((function e(){var t,r;return(0,T.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.lists.find((function(e){return e.listID===i.listID})),r={movieID:parseInt(a),rating:0,review:"",status:!1},t.movies.push(r),e.next=5,(0,I.aw)(n.uid,s.lists);case 5:console.log("Se ha agregado: ",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=(0,O.Z)((0,T.Z)().mark((function e(){var t;return(0,T.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=s.lists.find((function(e){return e.listID===i.listID}))).movies=t.movies.filter((function(e){return e.movieID!==parseInt(a)})),e.next=4,(0,I.aw)(n.uid,s.lists);case 4:console.log("Se ha removido: ",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,Z.useEffect)((function(){i.movies.forEach((function(e){e.movieID===parseInt(a)&&(r.current.checked=!0)}))}),[i]),(0,E.jsxs)("div",{className:P.formOption,children:[(0,E.jsx)("input",{type:"checkbox",id:i.listID,className:P.checkbox,ref:r,onChange:function(){r.current.checked?function(){o.apply(this,arguments)}():function(){c.apply(this,arguments)}()}}),(0,E.jsx)("label",{htmlFor:i.listID,title:i.title,className:P.label,children:i.title})]})}var A=s(1413),G={newListForm:"createListForm_newListForm__Rk0o5",show:"createListForm_show__HbLwT",newListName:"createListForm_newListName__A2m9G",newListPrivacity:"createListForm_newListPrivacity__sPvLg",newListCreate:"createListForm_newListCreate__QqOv-"};function Q(e){var i=e.handleClose,s=(0,C.Z)().auth,n=r().movieData;function t(){return(t=(0,O.Z)((0,T.Z)().mark((function e(t){var a,r,o,c;return(0,T.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=new FormData(t.target),(r=Object.fromEntries(a)).public="public"===r.public,o={movieID:n.id,rating:0,review:"",status:!1},c=(0,A.Z)((0,A.Z)({},r),{},{creationTime:Date.now(),movies:[o],listID:(0,D.k$)(),background:"https://image.tmdb.org/t/p/w780".concat(n.backdrop_path)}),e.prev=6,e.next=9,(0,I.$8)(s.uid,c);case 9:i(),console.log("Lista agregada con \xe9xito"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}return(0,E.jsxs)("form",{className:G.newListForm,onSubmit:function(e){return t.apply(this,arguments)},children:[(0,E.jsxs)("div",{className:G.newListName,children:[(0,E.jsx)("label",{htmlFor:"listName",children:"Nombre"}),(0,E.jsx)("input",{type:"text",id:"listName",placeholder:"Nombre de la lista",name:"title"})]}),(0,E.jsxs)("div",{className:G.newListPrivacity,children:[(0,E.jsx)("label",{htmlFor:"privacity",children:"Privacidad"}),(0,E.jsxs)("select",{id:"privacity",name:"public",children:[(0,E.jsx)("option",{value:"public",children:"P\xfablica"}),(0,E.jsx)("option",{value:"private",children:"Privada"})]})]}),(0,E.jsx)("button",{type:"submit",className:G.newListCreate,children:"Crear"})]})}function U(e){var i=e.handleClose,s=(0,F.Z)(),n=s.listsData,t=s.isLoading,a=(0,Z.useState)(!1),r=(0,w.Z)(a,2),o=r[0],c=r[1];if(!t)return(0,E.jsx)("div",{className:M.background,children:(0,E.jsxs)("div",{className:M.container,children:[(0,E.jsxs)("div",{className:M.top,children:[(0,E.jsx)("h3",{children:"Agregar a ..."}),(0,E.jsx)("button",{type:"button",onClick:i,children:(0,E.jsx)(S.QAE,{})})]}),(0,E.jsx)("form",{className:M.form,children:n.lists.map((function(e){return(0,E.jsx)(R,{allLists:n,list:e},e.listID)}))}),o?(0,E.jsx)(Q,{handleClose:i}):(0,E.jsxs)("button",{type:"button",className:M.addList,onClick:function(){c(!o)},children:["Nueva lista ",(0,E.jsx)(y.Lfi,{})]})]})})}function V(){var e=(0,C.Z)().auth,i=(r().movieData,(0,Z.useState)()),s=(0,w.Z)(i,2),n=s[0],a=s[1],o=(0,t.s0)();function c(){e?a(!n):o("/login")}return(0,E.jsxs)("ul",{className:k.actionsContainer,children:[(0,E.jsx)("li",{children:(0,E.jsx)("button",{className:k.actionsItem,action:"Agregar a lista",onClick:c,children:(0,E.jsx)(L.a8N,{})})}),(0,E.jsx)("li",{children:(0,E.jsx)("button",{className:k.actionsItem,action:"Favorito",children:(0,E.jsx)(y.lo,{})})}),(0,E.jsx)("li",{children:(0,E.jsx)("button",{className:k.actionsItem,action:"Valorar",children:(0,E.jsx)(y.y5j,{})})}),n?(0,E.jsx)(U,{handleClose:c}):null]})}var q=s(8266),H=function(){var e,i,s=r(),n=s.movieData;s.isLoading;window.scrollTo({top:0,behavior:"smooth"});var t=null===n||void 0===n?void 0:n.runtime,a=Math.floor(t/60),w=Math.round(t%60);function L(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})}if(w>=60&&(a+=1,w-=60),n)return(0,E.jsxs)("div",{className:o,children:[(0,E.jsxs)("div",{className:c,children:[(0,E.jsx)("div",{className:l,children:(0,E.jsxs)("div",{className:d,children:[(0,E.jsx)("h2",{className:m,children:n.title}),(0,E.jsxs)("div",{className:u,children:[(0,E.jsx)("span",{children:(0,E.jsx)(q.Z,{votes:n.vote_average})}),(0,E.jsx)("span",{children:"".concat(n.vote_count," Reviews")}),(0,E.jsx)("span",{children:n.release_date}),(0,E.jsx)("span",{children:"".concat(a,"h:").concat(w,"min")})]}),(0,E.jsx)("div",{className:v,children:(0,E.jsx)("p",{children:n.overview})}),(0,E.jsx)(V,{})]})}),(0,E.jsx)("div",{className:h,children:(0,E.jsxs)("picture",{children:[(0,E.jsx)("source",{srcSet:"https://image.tmdb.org/t/p/w300".concat(n.backdrop_path),media:"(max-width: 320px)"}),(0,E.jsx)("source",{srcSet:"https://image.tmdb.org/t/p/w780".concat(n.backdrop_path),media:"(max-width: 780px)"}),(0,E.jsx)("img",{src:"https://image.tmdb.org/t/p/w1280".concat(n.backdrop_path)})]})})]}),(0,E.jsxs)("div",{className:x,children:[(0,E.jsx)("div",{className:_,children:(0,E.jsx)("img",{src:"https://image.tmdb.org/t/p/w342".concat(n.poster_path),alt:"Poster de ".concat(n.title)})}),(0,E.jsxs)("div",{className:p,children:[(0,E.jsx)("h3",{children:"Storyline"}),(0,E.jsx)("p",{className:j,children:n.overview}),(0,E.jsx)("div",{children:(0,E.jsxs)("ul",{className:f,children:[(0,E.jsxs)("li",{className:b,children:[(0,E.jsx)("div",{className:N,children:"Released"}),(0,E.jsx)("div",{children:n.release_date})]}),(0,E.jsxs)("li",{className:b,children:[(0,E.jsx)("div",{className:N,children:"Revenue"}),(0,E.jsx)("div",{children:L(n.revenue)})]}),(0,E.jsxs)("li",{className:b,children:[(0,E.jsx)("div",{className:N,children:"Status"}),(0,E.jsx)("div",{children:n.status})]}),(0,E.jsxs)("li",{className:b,children:[(0,E.jsx)("div",{className:N,children:"Production"}),(0,E.jsx)("div",{children:null===(e=n.production_companies[0])||void 0===e?void 0:e.name})]}),(0,E.jsxs)("li",{className:b,children:[(0,E.jsx)("div",{className:N,children:"Runtime"}),(0,E.jsxs)("div",{children:[a,"h ",w,"min"]})]}),(0,E.jsxs)("li",{className:b,children:[(0,E.jsx)("div",{className:N,children:"Budget"}),(0,E.jsx)("div",{children:L(n.budget)})]}),(0,E.jsxs)("li",{className:b,children:[(0,E.jsx)("div",{className:N,children:"Genres"}),(0,E.jsx)("div",{className:g,children:n.genres.map((function(e){return(0,E.jsx)("div",{children:e.name},e.id)}))})]}),(0,E.jsxs)("li",{className:b,children:[(0,E.jsx)("div",{className:N,children:"Language"}),(0,E.jsx)("div",{children:null===(i=n.spoken_languages[0])||void 0===i?void 0:i.name})]})]})})]})]})]})};function J(){return(0,E.jsx)(H,{})}}}]);
//# sourceMappingURL=512.76ffb977.chunk.js.map