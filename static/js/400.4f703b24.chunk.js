"use strict";(self.webpackChunkcinemo=self.webpackChunkcinemo||[]).push([[400],{8400:function(e,t,s){s.r(t),s.d(t,{default:function(){return $}});var i=s(9439),n=s(1933),a=s(7689),o=s(5567);function r(){var e=(0,a.UO)().movieId,t=(0,n.useQuery)({queryKey:["movie",e],queryFn:function(){return(0,o.XT)(e)}});return{movieData:t.data,isError:t.isError,error:t.error,isLoading:t.isLoading,isSuccess:t.isSuccess}}var c=s(3314),l="movieinfo_container__tsTJ3",d="movieinfo_infoContainer__kopl0",u="movieinfo_info__QVrDj",m="movieinfo_absoluteInfo__is19i",h="movieinfo_title__WblJZ",v="movieinfo_meta__3ruEs",_="movieinfo_overview__va1tj",x="movieinfo_backgroundImage__8HEzf",f="movieinfo_storylineCotnainer__bMmbH",p="movieinfo_poster__9Vka3",j="movieinfo_sinopsis__KeW5m",g="movieinfo_storylineInfo__ZXFk+",N="movieinfo_storylineList__-NzmY",b="movieinfo_storylineTitle__gCY7v",C="movieinfo_storylineItem__+9Q6B",I="movieinfo_genres__UFnFG",L=s(7425),w=s(8820),k={actionsContainer:"actions_actionsContainer__uyMu3",actionsItem:"actions_actionsItem__g1fOC"},y=s(887),Z=s(7834),D=s(5854),F=s(2791),T=s(5386),R=s(4373),S={background:"addMovieToList_background__pNhdq",container:"addMovieToList_container__3-Z5J",top:"addMovieToList_top__KTM8V",form:"addMovieToList_form__ufJuR",addList:"addMovieToList_addList__YjCDP"},E=s(4165),M=s(5861),O={formOption:"addMovieOption_formOption__7GcKt",checkbox:"addMovieOption_checkbox__joxaH",label:"addMovieOption_label__v+Via"},B=s(184);function P(e){var t=e.list,s=e.allLists,i=e.movieData,n=(0,Z.Z)().auth,o=(0,a.UO)().movieId,r=(0,F.useRef)();function c(){return(c=(0,M.Z)((0,E.Z)().mark((function e(){var a,r;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.lists.find((function(e){return e.listID===t.listID})),r={id:parseInt(o),title:i.title,poster_path:i.poster_path,vote_average:i.vote_average,rating:0,review:"",status:!1},a.movies.push(r),e.next=5,(0,y.aw)(n.uid,s.lists);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=(0,M.Z)((0,E.Z)().mark((function e(){var i;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=s.lists.find((function(e){return e.listID===t.listID}))).movies=i.movies.filter((function(e){return e.id!==parseInt(o)})),e.next=4,(0,y.aw)(n.uid,s.lists);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,F.useEffect)((function(){t.movies.forEach((function(e){e.id===parseInt(o)&&(r.current.checked=!0)}))}),[t]),(0,B.jsxs)("div",{className:O.formOption,children:[(0,B.jsx)("input",{type:"checkbox",id:t.listID,className:O.checkbox,ref:r,onChange:function(){r.current.checked?function(){c.apply(this,arguments)}():function(){l.apply(this,arguments)}()}}),(0,B.jsx)("label",{htmlFor:t.listID,title:t.title,className:O.label,children:t.title})]})}var A=s(1413),W={newListForm:"createListForm_newListForm__Rk0o5",show:"createListForm_show__HbLwT",newListName:"createListForm_newListName__A2m9G",newListPrivacity:"createListForm_newListPrivacity__sPvLg",newListCreate:"createListForm_newListCreate__QqOv-"};function J(e){var t=e.handleClose,s=(0,Z.Z)().auth,i=r().movieData;function n(){return(n=(0,M.Z)((0,E.Z)().mark((function e(n){var a,o,r,c;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=new FormData(n.target),(o=Object.fromEntries(a)).public="public"===o.public,r={id:i.id,title:i.title,poster_path:i.poster_path,vote_average:i.vote_average,MyRating:0,review:"",status:!1},c=(0,A.Z)((0,A.Z)({},o),{},{creationTime:Date.now(),movies:[r],listID:(0,D.k$)(),background:"https://image.tmdb.org/t/p/w780".concat(i.backdrop_path)}),e.prev=6,e.next=9,(0,y.$8)(s.uid,c);case 9:t(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[6,12]])})))).apply(this,arguments)}return(0,B.jsxs)("form",{className:W.newListForm,onSubmit:function(e){return n.apply(this,arguments)},children:[(0,B.jsxs)("div",{className:W.newListName,children:[(0,B.jsx)("label",{htmlFor:"listName",children:"Nombre"}),(0,B.jsx)("input",{type:"text",id:"listName",placeholder:"Nombre de la lista",name:"title"})]}),(0,B.jsxs)("div",{className:W.newListPrivacity,children:[(0,B.jsx)("label",{htmlFor:"privacity",children:"Privacidad"}),(0,B.jsxs)("select",{id:"privacity",name:"public",children:[(0,B.jsx)("option",{value:"public",children:"P\xfablica"}),(0,B.jsx)("option",{value:"private",children:"Privada"})]})]}),(0,B.jsx)("button",{type:"submit",className:W.newListCreate,children:"Crear"})]})}function U(e){var t=e.handleClose,s=(0,T.Z)(),n=s.listsData,a=s.isLoading,o=r().movieData,c=(0,F.useState)(!1),l=(0,i.Z)(c,2),d=l[0],u=l[1];if(!a)return(0,B.jsx)("div",{className:S.background,children:(0,B.jsxs)("div",{className:S.container,children:[(0,B.jsxs)("div",{className:S.top,children:[(0,B.jsx)("h3",{children:"Agregar a ..."}),(0,B.jsx)("button",{type:"button",onClick:t,children:(0,B.jsx)(R.QAE,{})})]}),(0,B.jsx)("form",{className:S.form,children:n.lists.map((function(e){return(0,B.jsx)(P,{allLists:n,list:e,movieData:o},e.listID)}))}),d?(0,B.jsx)(J,{handleClose:t}):(0,B.jsxs)("button",{type:"button",className:S.addList,onClick:function(){u(!d)},children:["Nueva lista ",(0,B.jsx)(w.Lfi,{})]})]})})}function V(){var e=(0,Z.Z)().auth,t=(0,F.useState)(),s=(0,i.Z)(t,2),n=s[0],o=s[1],r=(0,a.s0)();function c(){e?o(!n):r("/login")}return(0,B.jsxs)("ul",{className:k.actionsContainer,children:[(0,B.jsx)("li",{children:(0,B.jsx)("button",{className:k.actionsItem,action:"Agregar a lista",onClick:c,children:(0,B.jsx)(L.a8N,{})})}),(0,B.jsx)("li",{children:(0,B.jsx)("button",{className:k.actionsItem,action:"Favorito",children:(0,B.jsx)(w.lo,{})})}),(0,B.jsx)("li",{children:(0,B.jsx)("button",{className:k.actionsItem,action:"Valorar",children:(0,B.jsx)(w.y5j,{})})}),n?(0,B.jsx)(U,{handleClose:c}):null]})}var G=s(8266),Q={actorsContainer:"movieInfoCarousel_actorsContainer__0BIed",castTitle:"movieInfoCarousel_castTitle__0lv-s",listContainer:"movieInfoCarousel_listContainer__WRgJZ",castBox:"movieInfoCarousel_castBox__hJAWr",castImgBox:"movieInfoCarousel_castImgBox__alnZW",castImg:"movieInfoCarousel_castImg__zbf7w",castInfo:"movieInfoCarousel_castInfo__L3dpo",buttonLeft:"movieInfoCarousel_buttonLeft__9Jf64",buttonRight:"movieInfoCarousel_buttonRight__Xv+8M"},Y=s(1087),q=s(6355);var z=function(e){var t,s=e.movie,n=(0,F.useState)({}),a=(0,i.Z)(n,2),o=a[0],r=a[1];(0,F.useEffect)((function(){r(s)}),[s]);var c,l,d=(0,F.useRef)(null),u=null===o||void 0===o||null===(t=o.credits)||void 0===t?void 0:t.cast.length;if(s)return(0,B.jsxs)("div",{className:Q.actorsContainer,children:[u>6&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("button",{onClick:function(){d.current.scrollLeft-=d.current.offsetWidth},className:Q.buttonLeft,children:(0,B.jsx)(q.x_l,{})}),(0,B.jsx)("button",{onClick:function(){d.current.scrollLeft+=d.current.offsetWidth},className:Q.buttonRight,children:(0,B.jsx)(q.Z1Y,{})})]}),u>0&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("h2",{className:Q.castTitle,children:"CAST"}),(0,B.jsx)("div",{className:Q.castContainer,children:(0,B.jsx)("ul",{className:Q.listContainer,ref:d,children:null===o||void 0===o||null===(c=o.credits)||void 0===c||null===(l=c.cast)||void 0===l?void 0:l.map((function(e){return(0,B.jsx)("li",{className:Q.listItem,children:(0,B.jsxs)(Y.rU,{to:"/person/".concat(e.id),className:Q.castBox,children:[(0,B.jsx)("figure",{className:Q.castImgBox,children:(0,B.jsx)("img",{className:Q.castImg,src:e.profile_path?"https://image.tmdb.org/t/p/w300".concat(e.profile_path):"https://via.placeholder.com/300x450?text=Image+Not+Found",alt:"Picture of ".concat(e.name)})}),(0,B.jsxs)("div",{className:Q.castInfo,children:[(0,B.jsx)("p",{children:e.name}),(0,B.jsx)("p",{children:e.character})]})]})},e.cast_id)}))})})]})]})},H={actorsContainer:"recomendedCarousel_actorsContainer__ZhL6v",castTitle:"recomendedCarousel_castTitle__Ae4jE",listContainer:"recomendedCarousel_listContainer__JXdxh",castBox:"recomendedCarousel_castBox__v8Cbd",castImgBox:"recomendedCarousel_castImgBox__VWwxO",castImg:"recomendedCarousel_castImg__EdfrL",castInfo:"recomendedCarousel_castInfo__L76Gj",buttonLeft:"recomendedCarousel_buttonLeft__6d7hO",buttonRight:"recomendedCarousel_buttonRight__Oz4OD"};var K=function(e){var t,s,n=e.movie,a=(0,F.useState)({}),o=(0,i.Z)(a,2),r=o[0],c=o[1];(0,F.useEffect)((function(){c(n)}),[n]);var l,d,u=(0,F.useRef)(null),m=null===r||void 0===r||null===(t=r.recommendations)||void 0===t||null===(s=t.results)||void 0===s?void 0:s.length;if(n)return(0,B.jsx)("div",{children:(0,B.jsxs)("div",{className:H.actorsContainer,children:[m>=6&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("button",{onClick:function(){u.current.scrollLeft-=u.current.offsetWidth},className:H.buttonLeft,children:(0,B.jsx)(q.x_l,{})}),(0,B.jsx)("button",{onClick:function(){u.current.scrollLeft+=u.current.offsetWidth},className:H.buttonRight,children:(0,B.jsx)(q.Z1Y,{})})]}),!m<=0&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("h2",{className:H.castTitle,children:"PELICULAS RECOMENDADAS"}),(0,B.jsx)("div",{className:H.castContainer,children:(0,B.jsx)("ul",{className:H.listContainer,ref:u,children:null===r||void 0===r||null===(l=r.recommendations)||void 0===l||null===(d=l.results)||void 0===d?void 0:d.map((function(e){return(0,B.jsx)("li",{className:H.listItem,children:(0,B.jsxs)(Y.rU,{to:"/movies/".concat(e.id),className:H.castBox,children:[(0,B.jsx)("figure",{className:H.castImgBox,children:(0,B.jsx)("img",{className:H.castImg,src:e.poster_path?"https://image.tmdb.org/t/p/w300".concat(e.poster_path):"https://via.placeholder.com/300x450?text=Image+Not+Found",alt:"Picture of ".concat(e.title)})}),(0,B.jsxs)("div",{className:H.castInfo,children:[(0,B.jsx)("p",{children:e.title}),(0,B.jsx)("p",{children:e.release_date})]})]})},e.id)}))})})]})]})})},X=function(){var e,t,s=r(),n=s.movieData,a=s.isLoading,o=(0,F.useState)({}),L=(0,i.Z)(o,2),w=L[0],k=L[1];function y(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})}if((0,c.Z)(),(0,F.useEffect)((function(){(null===n||void 0===n?void 0:n.runtime)&&k(function(e){var t=e,s=Math.floor(t/60),i=Math.round(t%60);return i>=60&&(s+=1,i-=60),{hours:s,min:i}}(n.runtime))}),[n]),!a)return(0,B.jsxs)("div",{className:l,children:[(0,B.jsxs)("div",{className:d,children:[(0,B.jsx)("div",{className:u,children:(0,B.jsxs)("div",{className:m,children:[(0,B.jsx)("h2",{className:h,children:n.title}),(0,B.jsxs)("div",{className:v,children:[(0,B.jsx)("span",{children:(0,B.jsx)(G.Z,{votes:n.vote_average})}),(0,B.jsx)("span",{children:"".concat(n.vote_count," Reviews")}),(0,B.jsx)("span",{children:n.release_date}),(0,B.jsx)("span",{children:"".concat(w.hours,"h:").concat(w.min,"min")})]}),(0,B.jsx)("div",{className:_,children:(0,B.jsx)("p",{children:n.overview})}),(0,B.jsx)(V,{})]})}),(0,B.jsx)("div",{className:x,children:(0,B.jsxs)("picture",{children:[(0,B.jsx)("source",{srcSet:null!==n&&void 0!==n&&n.backdrop_path?"https://image.tmdb.org/t/p/w300".concat(n.backdrop_path):"https://placehold.co/400x200/000/000/?text=No image",media:"(max-width: 320px)"}),(0,B.jsx)("source",{srcSet:null!==n&&void 0!==n&&n.backdrop_path?"https://image.tmdb.org/t/p/w780".concat(n.backdrop_path):"https://placehold.co/600x400/000/000/?text=No image",media:"(max-width: 780px)"}),(0,B.jsx)("img",{src:n.backdrop_path?"https://image.tmdb.org/t/p/w1280".concat(n.backdrop_path):"https://placehold.co/600x400/000/000/?text=No image"})]})})]}),(0,B.jsxs)("div",{className:f,children:[(0,B.jsx)("div",{className:p,children:(0,B.jsx)("img",{src:n.poster_path?"https://image.tmdb.org/t/p/w342".concat(n.poster_path):"https://via.placeholder.com/300x450?text=Image+Not+Found",alt:"Poster de ".concat(n.title)})}),(0,B.jsxs)("div",{className:g,children:[(0,B.jsx)("h3",{children:"Storyline"}),(0,B.jsx)("p",{className:j,children:n.overview}),(0,B.jsx)("div",{children:(0,B.jsxs)("ul",{className:N,children:[(0,B.jsxs)("li",{className:C,children:[(0,B.jsx)("div",{className:b,children:"Released"}),(0,B.jsx)("div",{children:n.release_date})]}),(0,B.jsxs)("li",{className:C,children:[(0,B.jsx)("div",{className:b,children:"Revenue"}),(0,B.jsx)("div",{children:y(n.revenue)})]}),(0,B.jsxs)("li",{className:C,children:[(0,B.jsx)("div",{className:b,children:"Status"}),(0,B.jsx)("div",{children:n.status})]}),(0,B.jsxs)("li",{className:C,children:[(0,B.jsx)("div",{className:b,children:"Production"}),(0,B.jsx)("div",{children:null===(e=n.production_companies[0])||void 0===e?void 0:e.name})]}),(0,B.jsxs)("li",{className:C,children:[(0,B.jsx)("div",{className:b,children:"Runtime"}),(0,B.jsxs)("div",{children:[w.hours,"h ",w.min,"m"]})]}),(0,B.jsxs)("li",{className:C,children:[(0,B.jsx)("div",{className:b,children:"Budget"}),(0,B.jsx)("div",{children:y(n.budget)})]}),(0,B.jsxs)("li",{className:C,children:[(0,B.jsx)("div",{className:b,children:"Genres"}),(0,B.jsx)("div",{className:I,children:n.genres.map((function(e){return(0,B.jsx)("div",{children:e.name},e.id)}))})]}),(0,B.jsxs)("li",{className:C,children:[(0,B.jsx)("div",{className:b,children:"Language"}),(0,B.jsx)("div",{children:null===(t=n.spoken_languages[0])||void 0===t?void 0:t.name})]})]})})]})]}),(0,B.jsx)(z,{movie:n}),(0,B.jsx)(K,{movie:n})]})};function $(){return(0,B.jsx)(X,{})}},3314:function(e,t,s){function i(){window.scrollTo({top:0,behavior:"smooth"})}s.d(t,{Z:function(){return i}})}}]);
//# sourceMappingURL=400.4f703b24.chunk.js.map