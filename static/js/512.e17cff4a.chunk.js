"use strict";(self.webpackChunkcinemo=self.webpackChunkcinemo||[]).push([[512],{4512:function(e,i,s){s.r(i),s.d(i,{default:function(){return J}});var t=s(1933),n=s(7689),a=s(5567);function r(){var e=(0,n.UO)().movieId,i=(0,t.useQuery)({queryKey:["movie",e],queryFn:function(){return(0,a.XT)(e)}});return{movieData:i.data,isError:i.isError,error:i.error,isLoading:i.isLoading,isSuccess:i.isSuccess}}var o="movieinfo_container__tsTJ3",c="movieinfo_infoContainer__kopl0",l="movieinfo_info__QVrDj",d="movieinfo_absoluteInfo__is19i",m="movieinfo_title__WblJZ",u="movieinfo_meta__3ruEs",v="movieinfo_overview__va1tj",h="movieinfo_backgroundImage__8HEzf",_="movieinfo_storylineCotnainer__bMmbH",p="movieinfo_poster__9Vka3",x="movieinfo_sinopsis__KeW5m",j="movieinfo_storylineInfo__ZXFk+",f="movieinfo_storylineList__-NzmY",N="movieinfo_storylineTitle__gCY7v",b="movieinfo_storylineItem__+9Q6B",g="movieinfo_genres__UFnFG",w=s(9439),L=s(7425),k=s(8820),y={actionsContainer:"actions_actionsContainer__uyMu3",actionsItem:"actions_actionsItem__g1fOC"},C=s(887),I=s(7834),D=s(5854),Z=s(2791),F=s(5386),M=s(4373),S={background:"addMovieToList_background__pNhdq",container:"addMovieToList_container__3-Z5J",top:"addMovieToList_top__KTM8V",form:"addMovieToList_form__ufJuR",addList:"addMovieToList_addList__YjCDP"},T=s(4165),O=s(5861),P={formOption:"addMovieOption_formOption__7GcKt",checkbox:"addMovieOption_checkbox__joxaH",label:"addMovieOption_label__v+Via"},E=s(184);function R(e){var i=e.list,s=e.allLists,t=e.movieData,a=(0,I.Z)().auth,r=(0,n.UO)().movieId,o=(0,Z.useRef)();function c(){return(c=(0,O.Z)((0,T.Z)().mark((function e(){var n,o;return(0,T.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.lists.find((function(e){return e.listID===i.listID})),o={id:parseInt(r),title:t.title,poster_path:t.poster_path,vote_average:t.vote_average,rating:0,review:"",status:!1},n.movies.push(o),e.next=5,(0,C.aw)(a.uid,s.lists);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=(0,O.Z)((0,T.Z)().mark((function e(){var t;return(0,T.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=s.lists.find((function(e){return e.listID===i.listID}))).movies=t.movies.filter((function(e){return e.id!==parseInt(r)})),e.next=4,(0,C.aw)(a.uid,s.lists);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,Z.useEffect)((function(){i.movies.forEach((function(e){e.id===parseInt(r)&&(o.current.checked=!0)}))}),[i]),(0,E.jsxs)("div",{className:P.formOption,children:[(0,E.jsx)("input",{type:"checkbox",id:i.listID,className:P.checkbox,ref:o,onChange:function(){o.current.checked?function(){c.apply(this,arguments)}():function(){l.apply(this,arguments)}()}}),(0,E.jsx)("label",{htmlFor:i.listID,title:i.title,className:P.label,children:i.title})]})}var Q=s(1413),U={newListForm:"createListForm_newListForm__Rk0o5",show:"createListForm_show__HbLwT",newListName:"createListForm_newListName__A2m9G",newListPrivacity:"createListForm_newListPrivacity__sPvLg",newListCreate:"createListForm_newListCreate__QqOv-"};function V(e){var i=e.handleClose,s=(0,I.Z)().auth,t=r().movieData;function n(){return(n=(0,O.Z)((0,T.Z)().mark((function e(n){var a,r,o,c;return(0,T.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=new FormData(n.target),(r=Object.fromEntries(a)).public="public"===r.public,o={id:t.id,title:t.title,poster_path:t.poster_path,vote_average:t.vote_average,MyRating:0,review:"",status:!1},c=(0,Q.Z)((0,Q.Z)({},r),{},{creationTime:Date.now(),movies:[o],listID:(0,D.k$)(),background:"https://image.tmdb.org/t/p/w780".concat(t.backdrop_path)}),e.prev=6,e.next=9,(0,C.$8)(s.uid,c);case 9:i(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[6,12]])})))).apply(this,arguments)}return(0,E.jsxs)("form",{className:U.newListForm,onSubmit:function(e){return n.apply(this,arguments)},children:[(0,E.jsxs)("div",{className:U.newListName,children:[(0,E.jsx)("label",{htmlFor:"listName",children:"Nombre"}),(0,E.jsx)("input",{type:"text",id:"listName",placeholder:"Nombre de la lista",name:"title"})]}),(0,E.jsxs)("div",{className:U.newListPrivacity,children:[(0,E.jsx)("label",{htmlFor:"privacity",children:"Privacidad"}),(0,E.jsxs)("select",{id:"privacity",name:"public",children:[(0,E.jsx)("option",{value:"public",children:"P\xfablica"}),(0,E.jsx)("option",{value:"private",children:"Privada"})]})]}),(0,E.jsx)("button",{type:"submit",className:U.newListCreate,children:"Crear"})]})}function q(e){var i=e.handleClose,s=(0,F.Z)(),t=s.listsData,n=s.isLoading,a=r().movieData,o=(0,Z.useState)(!1),c=(0,w.Z)(o,2),l=c[0],d=c[1];if(!n)return(0,E.jsx)("div",{className:S.background,children:(0,E.jsxs)("div",{className:S.container,children:[(0,E.jsxs)("div",{className:S.top,children:[(0,E.jsx)("h3",{children:"Agregar a ..."}),(0,E.jsx)("button",{type:"button",onClick:i,children:(0,E.jsx)(M.QAE,{})})]}),(0,E.jsx)("form",{className:S.form,children:t.lists.map((function(e){return(0,E.jsx)(R,{allLists:t,list:e,movieData:a},e.listID)}))}),l?(0,E.jsx)(V,{handleClose:i}):(0,E.jsxs)("button",{type:"button",className:S.addList,onClick:function(){d(!l)},children:["Nueva lista ",(0,E.jsx)(k.Lfi,{})]})]})})}function A(){var e=(0,I.Z)().auth,i=(0,Z.useState)(),s=(0,w.Z)(i,2),t=s[0],a=s[1],r=(0,n.s0)();function o(){e?a(!t):r("/login")}return(0,E.jsxs)("ul",{className:y.actionsContainer,children:[(0,E.jsx)("li",{children:(0,E.jsx)("button",{className:y.actionsItem,action:"Agregar a lista",onClick:o,children:(0,E.jsx)(L.a8N,{})})}),(0,E.jsx)("li",{children:(0,E.jsx)("button",{className:y.actionsItem,action:"Favorito",children:(0,E.jsx)(k.lo,{})})}),(0,E.jsx)("li",{children:(0,E.jsx)("button",{className:y.actionsItem,action:"Valorar",children:(0,E.jsx)(k.y5j,{})})}),t?(0,E.jsx)(q,{handleClose:o}):null]})}var G=s(8266),H=function(){var e,i,s=r(),t=s.movieData;s.isLoading;window.scrollTo({top:0,behavior:"smooth"});var n=null===t||void 0===t?void 0:t.runtime,a=Math.floor(n/60),w=Math.round(n%60);function L(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})}if(w>=60&&(a+=1,w-=60),t)return(0,E.jsxs)("div",{className:o,children:[(0,E.jsxs)("div",{className:c,children:[(0,E.jsx)("div",{className:l,children:(0,E.jsxs)("div",{className:d,children:[(0,E.jsx)("h2",{className:m,children:t.title}),(0,E.jsxs)("div",{className:u,children:[(0,E.jsx)("span",{children:(0,E.jsx)(G.Z,{votes:t.vote_average})}),(0,E.jsx)("span",{children:"".concat(t.vote_count," Reviews")}),(0,E.jsx)("span",{children:t.release_date}),(0,E.jsx)("span",{children:"".concat(a,"h:").concat(w,"min")})]}),(0,E.jsx)("div",{className:v,children:(0,E.jsx)("p",{children:t.overview})}),(0,E.jsx)(A,{})]})}),(0,E.jsx)("div",{className:h,children:(0,E.jsxs)("picture",{children:[(0,E.jsx)("source",{srcSet:"https://image.tmdb.org/t/p/w300".concat(t.backdrop_path),media:"(max-width: 320px)"}),(0,E.jsx)("source",{srcSet:"https://image.tmdb.org/t/p/w780".concat(t.backdrop_path),media:"(max-width: 780px)"}),(0,E.jsx)("img",{src:"https://image.tmdb.org/t/p/w1280".concat(t.backdrop_path)})]})})]}),(0,E.jsxs)("div",{className:_,children:[(0,E.jsx)("div",{className:p,children:(0,E.jsx)("img",{src:"https://image.tmdb.org/t/p/w342".concat(t.poster_path),alt:"Poster de ".concat(t.title)})}),(0,E.jsxs)("div",{className:j,children:[(0,E.jsx)("h3",{children:"Storyline"}),(0,E.jsx)("p",{className:x,children:t.overview}),(0,E.jsx)("div",{children:(0,E.jsxs)("ul",{className:f,children:[(0,E.jsxs)("li",{className:b,children:[(0,E.jsx)("div",{className:N,children:"Released"}),(0,E.jsx)("div",{children:t.release_date})]}),(0,E.jsxs)("li",{className:b,children:[(0,E.jsx)("div",{className:N,children:"Revenue"}),(0,E.jsx)("div",{children:L(t.revenue)})]}),(0,E.jsxs)("li",{className:b,children:[(0,E.jsx)("div",{className:N,children:"Status"}),(0,E.jsx)("div",{children:t.status})]}),(0,E.jsxs)("li",{className:b,children:[(0,E.jsx)("div",{className:N,children:"Production"}),(0,E.jsx)("div",{children:null===(e=t.production_companies[0])||void 0===e?void 0:e.name})]}),(0,E.jsxs)("li",{className:b,children:[(0,E.jsx)("div",{className:N,children:"Runtime"}),(0,E.jsxs)("div",{children:[a,"h ",w,"min"]})]}),(0,E.jsxs)("li",{className:b,children:[(0,E.jsx)("div",{className:N,children:"Budget"}),(0,E.jsx)("div",{children:L(t.budget)})]}),(0,E.jsxs)("li",{className:b,children:[(0,E.jsx)("div",{className:N,children:"Genres"}),(0,E.jsx)("div",{className:g,children:t.genres.map((function(e){return(0,E.jsx)("div",{children:e.name},e.id)}))})]}),(0,E.jsxs)("li",{className:b,children:[(0,E.jsx)("div",{className:N,children:"Language"}),(0,E.jsx)("div",{children:null===(i=t.spoken_languages[0])||void 0===i?void 0:i.name})]})]})})]})]})]})};function J(){return(0,E.jsx)(H,{})}}}]);
//# sourceMappingURL=512.e17cff4a.chunk.js.map