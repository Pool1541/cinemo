"use strict";(self.webpackChunkmovies_app=self.webpackChunkmovies_app||[]).push([[731],{1731:function(e,t,s){s.r(t),s.d(t,{default:function(){return S}});var n=s(4088),i=s(4165),a=s(5861),r=s(9439),c=s(2791),l=s(3349),o={container:"settings_container__xt6XN",settingsSection:"settings_settingsSection__xWSBi",title:"settings_title__Oou5E",settings:"settings_settings__jhaUY",form:"settings_form__bkGa8",formSection:"settings_formSection__8xlzE",disable:"settings_disable__2x-UR",profilePhoto:"settings_profilePhoto__bgWMv",fileInput:"settings_fileInput__e+tIm",button:"settings_button__I+Kfd"};function u(e){return new Promise((function(t,s){var n=document.createElement("canvas"),i=new Image;i.onload=function(){n.width=100,n.height=110,n.getContext("2d").drawImage(i,0,0,n.width,n.height),n.toBlob((function(e){if(null===e)return s(e);t(e)}),"image/jpeg",1)},i.src=URL.createObjectURL(e)}))}var d={successMessage:"messageBox_successMessage__1eSQe",getIn:"messageBox_getIn__Bs9JM",btnContainer:"messageBox_btnContainer__-1zVY",closeButton:"messageBox_closeButton__dfHL2"},m=s(184);function f(e){var t=e.onClose;return(0,m.jsxs)("div",{className:d.successMessage,children:[(0,m.jsx)("div",{children:(0,m.jsx)("p",{children:"Se actualiz\xf3 la informaci\xf3n correctamente"})}),(0,m.jsx)("div",{className:d.btnContainer,children:(0,m.jsx)("button",{className:d.closeButton,onClick:t,title:"Cerrar mensaje",children:"x"})})]})}function x(e){var t=e.user,s=(0,c.useState)(t.photoURL),n=(0,r.Z)(s,2),d=n[0],x=n[1],h=(0,c.useState)(!1),j=(0,r.Z)(h,2),p=j[0],_=j[1],g=(0,c.useRef)(null),v=(0,c.useRef)(),b=(0,c.useRef)();function N(){return(N=(0,a.Z)((0,i.Z)().mark((function e(s){var n,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),n=v.current.value,a=b.current.value,e.next=5,(0,l.Al)(t.uid,{name:n,lastName:a});case 5:_(!0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=(0,a.Z)((0,i.Z)().mark((function e(s){var n,a,r,c,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=s.target.files)&&n.length>0)){e.next=18;break}return a=n[0],e.next=5,u(a);case 5:return r=e.sent,e.next=8,(0,l.jY)(t.uid,r);case 8:if(c=e.sent,console.log(r),!c){e.next=18;break}return e.next=13,(0,l.Qc)(c);case 13:return o=e.sent,e.next=16,(0,l.Al)(t.uid,{photoURL:o});case 16:x(o),_(!0);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,c.useEffect)((function(){v.current.value=t.name,b.current.value=t.lastName}),[]),(0,m.jsxs)("div",{className:o.container,children:[(0,m.jsxs)("div",{className:o.settingsSection,children:[(0,m.jsx)("div",{className:o.title,children:(0,m.jsx)("h2",{children:"Foto de perfil"})}),(0,m.jsxs)("div",{className:o.settings,children:[(0,m.jsx)("div",{className:o.profilePhoto,children:(0,m.jsx)("img",{src:d,alt:"foto de perfil"})}),(0,m.jsx)("input",{type:"file",className:o.fileInput,ref:g,onChange:function(e){return S.apply(this,arguments)}}),(0,m.jsx)("button",{type:"button",className:o.button,onClick:function(){g.current.click()},title:"Elegir una foto de perfil",children:"Elige una foto de perfil"})]})]}),(0,m.jsxs)("form",{className:o.form,onSubmit:function(e){return N.apply(this,arguments)},children:[(0,m.jsxs)("div",{className:o.formSection,children:[(0,m.jsx)("div",{className:o.title,children:(0,m.jsx)("label",{htmlFor:"name",children:"Nombre"})}),(0,m.jsx)("div",{className:o.settings,children:(0,m.jsx)("input",{type:"text",name:"name",id:"name",ref:v})})]}),(0,m.jsxs)("div",{className:o.formSection,children:[(0,m.jsx)("div",{className:o.title,children:(0,m.jsx)("label",{htmlFor:"lastName",children:"Apellido"})}),(0,m.jsx)("div",{className:o.settings,children:(0,m.jsx)("input",{type:"text",name:"lastName",id:"lastName",ref:b})})]}),(0,m.jsxs)("div",{className:o.formSection,children:[(0,m.jsx)("div",{className:o.title,children:(0,m.jsx)("label",{htmlFor:"email",children:"Correo"})}),(0,m.jsx)("div",{className:o.settings,children:(0,m.jsx)("input",{type:"text",name:"email",id:"email",disabled:!0,value:t.email,className:o.disable})})]}),(0,m.jsx)("div",{className:o.formSection,children:(0,m.jsx)("button",{type:"submit",className:o.button,title:"Guardar cambios",children:"Guardar cambios"})})]}),p&&(0,m.jsx)(f,{onClose:function(){_(!1)}})]})}var h={container:"settingsContainer_container__yOj1X"};function j(e){var t=e.children;return(0,m.jsx)("section",{className:h.container,children:t})}var p=s(2268),_=s(422),g=s(3793),v=s(1221),b=s(4491),N=s(7408);function S(){var e=(0,g.Z)(),t=e.userData,s=e.isLoading;return(0,m.jsxs)("div",{children:[(0,m.jsx)(b.Z,{children:(0,m.jsx)("nav",{children:s?(0,m.jsx)(p.Z,{}):(0,m.jsx)(_.Z,{user:t})})}),(0,m.jsx)(N.Z,{children:(0,m.jsx)(j,{children:s?null:(0,m.jsx)(x,{user:t})})}),(0,m.jsx)(v.Z,{children:(0,m.jsx)(n.t,{})})]})}}}]);
//# sourceMappingURL=731.e12ef652.chunk.js.map