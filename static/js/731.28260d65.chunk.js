"use strict";(self.webpackChunkcinemo=self.webpackChunkcinemo||[]).push([[731],{1731:function(e,t,s){s.r(t),s.d(t,{default:function(){return k}});var n=s(9875),i=s(4088),a=s(4165),r=s(5861),c=s(9439),l=s(2791),o=s(887),u={container:"settings_container__xt6XN",settingsSection:"settings_settingsSection__xWSBi",title:"settings_title__Oou5E",settings:"settings_settings__jhaUY",form:"settings_form__bkGa8",formSection:"settings_formSection__8xlzE",disable:"settings_disable__2x-UR",profilePhoto:"settings_profilePhoto__bgWMv",fileInput:"settings_fileInput__e+tIm",button:"settings_button__I+Kfd"};function d(e){return new Promise((function(t,s){var n=document.createElement("canvas"),i=new Image;i.onload=function(){n.width=100,n.height=110,n.getContext("2d").drawImage(i,0,0,n.width,n.height),n.toBlob((function(e){if(null===e)return s(e);t(e)}),"image/jpeg",1)},i.src=URL.createObjectURL(e)}))}var m={successMessage:"messageBox_successMessage__1eSQe",getIn:"messageBox_getIn__Bs9JM",btnContainer:"messageBox_btnContainer__-1zVY",closeButton:"messageBox_closeButton__dfHL2"},x=s(184);function f(e){var t=e.onClose;return(0,x.jsxs)("div",{className:m.successMessage,children:[(0,x.jsx)("div",{children:(0,x.jsx)("p",{children:"Se actualiz\xf3 la informaci\xf3n correctamente"})}),(0,x.jsx)("div",{className:m.btnContainer,children:(0,x.jsx)("button",{className:m.closeButton,onClick:t,title:"Cerrar mensaje",children:"x"})})]})}function h(e){var t=e.user,s=(0,l.useState)(t.photoURL),n=(0,c.Z)(s,2),i=n[0],m=n[1],h=(0,l.useState)(!1),j=(0,c.Z)(h,2),g=j[0],_=j[1],p=(0,l.useRef)(null),v=(0,l.useRef)(),N=(0,l.useRef)();function b(){return(b=(0,r.Z)((0,a.Z)().mark((function e(s){var n,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),n=v.current.value,i=N.current.value,e.next=5,(0,o.Al)(t.uid,{name:n,lastName:i});case 5:_(!0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=(0,r.Z)((0,a.Z)().mark((function e(s){var n,i,r,c,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=s.target.files)&&n.length>0)){e.next=17;break}return i=n[0],e.next=5,d(i);case 5:return r=e.sent,e.next=8,(0,o.jY)(t.uid,r);case 8:if(!(c=e.sent)){e.next=17;break}return e.next=12,(0,o.Qc)(c);case 12:return l=e.sent,e.next=15,(0,o.Al)(t.uid,{photoURL:l});case 15:m(l),_(!0);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,l.useEffect)((function(){v.current.value=t.name,N.current.value=t.lastName}),[]),(0,x.jsxs)("div",{className:u.container,children:[(0,x.jsxs)("div",{className:u.settingsSection,children:[(0,x.jsx)("div",{className:u.title,children:(0,x.jsx)("h2",{children:"Foto de perfil"})}),(0,x.jsxs)("div",{className:u.settings,children:[(0,x.jsx)("div",{className:u.profilePhoto,children:(0,x.jsx)("img",{src:i,alt:"foto de perfil"})}),(0,x.jsx)("input",{type:"file",className:u.fileInput,ref:p,onChange:function(e){return S.apply(this,arguments)}}),(0,x.jsx)("button",{type:"button",className:u.button,onClick:function(){p.current.click()},title:"Elegir una foto de perfil",children:"Elige una foto de perfil"})]})]}),(0,x.jsxs)("form",{className:u.form,onSubmit:function(e){return b.apply(this,arguments)},children:[(0,x.jsxs)("div",{className:u.formSection,children:[(0,x.jsx)("div",{className:u.title,children:(0,x.jsx)("label",{htmlFor:"name",children:"Nombre"})}),(0,x.jsx)("div",{className:u.settings,children:(0,x.jsx)("input",{type:"text",name:"name",id:"name",ref:v})})]}),(0,x.jsxs)("div",{className:u.formSection,children:[(0,x.jsx)("div",{className:u.title,children:(0,x.jsx)("label",{htmlFor:"lastName",children:"Apellido"})}),(0,x.jsx)("div",{className:u.settings,children:(0,x.jsx)("input",{type:"text",name:"lastName",id:"lastName",ref:N})})]}),(0,x.jsxs)("div",{className:u.formSection,children:[(0,x.jsx)("div",{className:u.title,children:(0,x.jsx)("label",{htmlFor:"email",children:"Correo"})}),(0,x.jsx)("div",{className:u.settings,children:(0,x.jsx)("input",{type:"text",name:"email",id:"email",disabled:!0,value:t.email,className:u.disable})})]}),(0,x.jsx)("div",{className:u.formSection,children:(0,x.jsx)("button",{type:"submit",className:u.button,title:"Guardar cambios",children:"Guardar cambios"})})]}),g&&(0,x.jsx)(f,{onClose:function(){_(!1)}})]})}var j={container:"settingsContainer_container__yOj1X"};function g(e){var t=e.children;return(0,x.jsx)("section",{className:j.container,children:t})}var _=s(2268),p=s(422),v=s(3793),N=s(1221),b=s(4491),S=s(7408),Z=s(1087),C={logo:"userSettings_logo__EW3ne"};function k(){var e=(0,v.Z)(),t=e.userData,s=e.isLoading;return(0,x.jsxs)("div",{children:[(0,x.jsx)(b.Z,{children:(0,x.jsxs)("nav",{className:C.navBar,children:[(0,x.jsx)(Z.rU,{to:"/",className:C.logo,children:(0,x.jsx)(n.Z,{})}),s?(0,x.jsx)(_.Z,{}):(0,x.jsx)(p.Z,{user:t})]})}),(0,x.jsx)(S.Z,{children:(0,x.jsx)(g,{children:s?null:(0,x.jsx)(h,{user:t})})}),(0,x.jsx)(N.Z,{children:(0,x.jsx)(i.t,{})})]})}}}]);
//# sourceMappingURL=731.28260d65.chunk.js.map